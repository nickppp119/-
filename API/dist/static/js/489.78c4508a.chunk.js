"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[489],{8273:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(3768);const s={search:e=>{const t="http://".concat("127.0.0.1",":").concat("443","/api/role/search");fetch(t,{method:"GET"}).then((async t=>{const a=await t.json();t.ok?e(a):n.Ay.error(a.detail)}))}}},7452:(e,t,a)=>{a.d(t,{A:()=>o});var n=a(3768);const s="127.0.0.1",r="443",o={login:(e,t,a,o)=>{const c="http://".concat(s,":").concat(r,"/api/user/login"),i={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({username:e,password:t})};fetch(c,i).then((async e=>{const t=await e.json();e.ok?(a.setValue(t.detail),o("/")):n.Ay.error(t.detail)}))},create:(e,t,a,o)=>{const c="http://".concat(s,":").concat(r,"/api/user/create"),i={method:"POST",headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({username:e,password:t,role:a})};fetch(c,i).then((async e=>{const t=await e.json();e.ok?n.Ay.success(t.detail):n.Ay.error(t.detail)}))},remove:(e,t)=>{const a="http://".concat(s,":").concat(r,"/api/user/remove"),o={method:"DELETE",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({username:e})};fetch(a,o).then((async e=>{const t=await e.json();e.ok?n.Ay.success(t.detail):n.Ay.error(t.detail)}))},update:(e,t,a,o)=>{const c="http://".concat(s,":").concat(r,"/api/user/update"),i={method:"PUT",headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({username:e,password:t,role:a})};fetch(c,i).then((async e=>{const t=await e.json();e.ok?n.Ay.success(t.detail):n.Ay.error(t.detail)}))},search:(e,t,a)=>{const o="http://".concat(s,":").concat(r,"/api/user/search"),c={method:"GET",headers:{Authorization:"Bearer ".concat(a)}};fetch(o,c).then((async a=>{const s=await a.json();if(a.ok){const a=s.filter((e=>e.username!==t));e(a)}else n.Ay.error(s.detail)}))}}},2292:(e,t,a)=>{a.d(t,{H1:()=>i,H3:()=>l});var n=a(8387),s=a(6446),r=a(4535),o=(a(5043),a(579));const c=(0,r.Ay)(s.A)((e=>{let{texttransformstyle:t,ellipsis:a}=e;return{textTransform:t||"none",whiteSpace:a?"nowrap":"normal",overflow:a?"hidden":"",textOverflow:a?"ellipsis":""}})),i=e=>{let{children:t,className:a,ellipsis:s,textTransform:r,...i}=e;return(0,o.jsx)(c,{texttransformstyle:r,ellipsis:s,className:(0,n.A)({[a||""]:!0}),component:"h1",mb:0,mt:0,fontSize:"28px",fontWeight:"600",lineHeight:"1.5",...i,children:t})},l=e=>{let{children:t,className:a,ellipsis:s,textTransform:r,...i}=e;return(0,o.jsx)(c,{texttransformstyle:r,ellipsis:s,className:(0,n.A)({[a||""]:!0}),component:"h3",mb:0,mt:0,fontSize:"18px",fontWeight:"600",lineHeight:"1.5",...i,children:t})}},6489:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var n=a(5043),s=a(6446),r=a(9252),o=a(8911),c=a(1906),i=a(7784),l=a(8982),h=a(9190),d=a(6607),u=a(3193),p=a(5187),m=a(2292),w=a(7452),f=a(8273),x=a(579);const y=()=>{const{userState:e}=(0,p.Z)(),[t,a]=(0,n.useState)(""),[y,A]=(0,n.useState)([]);return(0,n.useEffect)((()=>{f.A.search(A)}),[]),(0,x.jsx)(r.A,{fixed:!0,sx:{width:"100%",height:"100%"},children:(0,x.jsx)(s.A,{component:"form",onSubmit:a=>{a.preventDefault();const n=new FormData(a.currentTarget),s=n.get("username"),r=n.get("password");if(s&&r&&t){const a="\u6559\u5e2b"===t||"\u770b\u8b77"===t?1:2;w.A.create(s,r,a,e.value.token)}},noValidate:!0,sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:(0,x.jsxs)(o.A,{spacing:2,sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,x.jsx)(m.H1,{children:"\u5275\u5efa\u4f7f\u7528\u8005"}),(0,x.jsx)(i.A,{id:"username",name:"username",label:"\u5e33\u865f",variant:"outlined"}),(0,x.jsx)(i.A,{id:"password",name:"password",label:"\u5bc6\u78bc",variant:"outlined"}),(0,x.jsxs)(u.A,{fullWidth:!0,children:[(0,x.jsx)(h.A,{children:"\u8eab\u4efd\u5225"}),(0,x.jsx)(l.A,{value:t,label:"\u8eab\u4efd\u5225",onChange:e=>a(e.target.value),children:0===y.length?(0,x.jsx)(d.A,{value:null,children:"None"},"role-0"):y.map(((e,t)=>(0,x.jsx)(d.A,{value:e.name,children:e.name},"role-".concat(t))))})]}),(0,x.jsx)(c.A,{type:"submit",variant:"outlined",size:"large",children:"\u9001\u51fa"})]})})})}}}]);
//# sourceMappingURL=489.78c4508a.chunk.js.map